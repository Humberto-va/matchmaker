<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Matchmaker</title>
</head>
<body>
    <h1>Humberto's Huzz Finder Exam</h1>
    <p>Respond with the most appropriate response as possible. Lying will have serious consequences. The point of this site is to find a partner that fits similar characteristics to Humberto. Please try to respond as honestly as possible and even if you score a low compatibility, just know we can still be friends!!</p>

    <!-- List of questions -->
    <label>Cars are cool!</label><br />
    <select id="q1">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree nor disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select><br /><br />

    <label>Cats are better than dogs.</label><br />
    <select id="q2">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree nor disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select><br /><br />

    <label>Adrenaline is something that's worth chasing</label><br />
    <select id="q3">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree nor disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select><br /><br />

    <label>Music is the worst</label><br />
    <select id="q4">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree nor disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select><br /><br />

    <label>Hygiene is not that important</label><br />
    <select id="q5">
        <option value="5">Strongly Agree</option>
        <option value="4">Agree</option>
        <option value="3">Neither agree nor disagree</option>
        <option value="2">Disagree</option>
        <option value="1">Strongly Disagree</option>
    </select><br /><br />
    
    <!-- New sliding bar for openness to listening and change -->
    <label for="openness">1-100, what would you say is your mindset in how open you are to listening and change?</label><br />
    <input type="range" id="openness" name="openness" min="1" max="100" value="50"><br />
    <span id="openness-value">50</span><br /><br />
    
    <button onclick="calculateCompatibility()">Calculate Compatibility</button>
    <p id="compatibility"></p>

<script>
const DESIRED_RESPONSE = [5, 5, 4, 1, 2];  // Desired responses for the questions
const MAX_SCORE = 5;  // Max score for each individual question (since 5 options are provided)

// Calculate compatibility based on user responses
function calculateCompatibility() {
    let totalCompatibility = 0;

    // Loop through each question (q1 to q5)
    for (let i = 1; i <= 5; i++) {
        let response = parseInt(document.getElementById(`q${i}`).value); // Get response for each question
        let compatibility = MAX_SCORE - Math.abs(response - DESIRED_RESPONSE[i - 1]);
        totalCompatibility += compatibility;  // Sum compatibility
    }

    // Get the value from the sliding bar (openness to change)
    let openness = parseInt(document.getElementById("openness").value);

    // Adjust the openness score's weight in the total calculation
    totalCompatibility += (openness / 2); // This gives more influence to openness (now it can go up to 50 points)

    // Calculate percentage based on a maximum of (25 from questions + 50 from openness) = 75 total possible points
    let percentage = Math.round((totalCompatibility / 75) * 100); 

    // Provide feedback based on compatibility score
    let feedback = '';
    if (percentage >= 80) feedback = "Excellent Compatibility!";
    else if (percentage >= 50) feedback = "Moderate Compatibility.";
    else feedback = "Low Compatibility. You may need to rethink some answers.";

    // Display result
    document.getElementById("compatibility").innerHTML = `Your compatibility is: ${percentage}% - ${feedback}`;
}

// Update the displayed value of the sliding bar
document.getElementById("openness").addEventListener("input", function() {
    document.getElementById("openness-value").textContent = this.value;
});
</script>

</body>
</html>
